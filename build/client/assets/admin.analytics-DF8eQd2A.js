import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{u as j}from"./components-CVBppnN6.js";import{P as h,C as a,B as i,T as s,I as l,a as o}from"./Page-BFDl36QU.js";import{D as u}from"./DataTable-CrjXtjjS.js";import"./index-Dfrec1kz.js";import"./context-JUMp7zSJ.js";import"./Sticky-DoFvUJj_.js";function y(){const r=j();if(!r.hasAccess)return e.jsx(h,{title:"Analytics",breadcrumbs:[{content:"Settings",url:"/app"}],children:e.jsx(a,{children:e.jsxs(i,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Premium Feature"}),e.jsx(s,{children:"Analytics dashboard requires a premium plan. Please upgrade to access detailed usage statistics."})]})})});const{usageStats:d,queueStats:c,resourceUsage:n}=r;return e.jsx(h,{title:"Analytics Dashboard",breadcrumbs:[{content:"Settings",url:"/app"}],children:e.jsxs(i,{gap:"500",children:[e.jsx(a,{children:e.jsxs(i,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Usage Overview (24h)"}),e.jsxs(l,{gap:"400",children:[e.jsxs("div",{children:[e.jsx(s,{variant:"headingLg",children:d.totalApiCalls}),e.jsx(s,{tone:"subdued",children:"API Calls"})]}),e.jsxs("div",{children:[e.jsxs(s,{variant:"headingLg",children:[Math.round(d.averageResponseTime),"ms"]}),e.jsx(s,{tone:"subdued",children:"Avg Response Time"})]}),e.jsxs("div",{children:[e.jsxs(s,{variant:"headingLg",children:[d.errorRate.toFixed(2),"%"]}),e.jsx(s,{tone:"subdued",children:"Error Rate"})]})]})]})}),e.jsx(a,{children:e.jsxs(i,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Current Hour Limits"}),e.jsxs(l,{gap:"400",children:[e.jsxs("div",{children:[e.jsxs(s,{variant:"headingMd",children:[n.currentHourUsage.apiCalls," / ",n.limits.maxApiCallsPerHour]}),e.jsx(s,{tone:"subdued",children:"API Calls"}),e.jsxs(o,{tone:n.quotaRemaining.apiCalls>10?"success":"critical",children:[n.quotaRemaining.apiCalls," remaining"]})]}),e.jsxs("div",{children:[e.jsxs(s,{variant:"headingMd",children:[n.currentHourUsage.actions," / ",n.limits.maxActionsPerHour]}),e.jsx(s,{tone:"subdued",children:"Actions"}),e.jsxs(o,{tone:n.quotaRemaining.actions>50?"success":"attention",children:[n.quotaRemaining.actions," remaining"]})]})]})]})}),e.jsx(a,{children:e.jsxs(i,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Processing Queue"}),e.jsxs(l,{gap:"400",children:[e.jsxs("div",{children:[e.jsx(s,{variant:"headingLg",children:c.pending}),e.jsx(s,{tone:"subdued",children:"Pending"})]}),e.jsxs("div",{children:[e.jsx(s,{variant:"headingLg",children:c.processing}),e.jsx(s,{tone:"subdued",children:"Processing"})]}),e.jsxs("div",{children:[e.jsx(s,{variant:"headingLg",children:c.completed}),e.jsx(s,{tone:"subdued",children:"Completed"})]}),e.jsxs("div",{children:[e.jsx(s,{variant:"headingLg",children:c.failed}),e.jsx(s,{tone:"subdued",children:"Failed"})]})]})]})}),e.jsx(a,{children:e.jsxs(i,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Action Breakdown"}),e.jsx(u,{columnContentTypes:["text","numeric"],headings:["Action Type","Count"],rows:Object.entries(d.actionBreakdown).map(([t,x])=>[t.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase()),x])})]})}),e.jsx(a,{children:e.jsxs(i,{gap:"400",children:[e.jsx(s,{variant:"headingMd",children:"Hourly Usage Pattern"}),e.jsx(u,{columnContentTypes:["text","numeric","numeric"],headings:["Hour","Actions","API Calls"],rows:d.hourlyUsage.slice(-12).map(t=>[new Date(t.hour).toLocaleString("ja-JP",{month:"short",day:"numeric",hour:"2-digit"}),t.count,t.apiCalls])})]})}),e.jsx(a,{children:e.jsxs(i,{gap:"400",children:[e.jsxs(l,{align:"space-between",children:[e.jsx(s,{variant:"headingMd",children:"Plan Information"}),e.jsxs(o,{tone:r.planType==="free"?"info":"success",children:[r.planType.toUpperCase()," PLAN"]})]}),e.jsxs(s,{tone:"subdued",children:["Shop: ",r.shopDomain]}),e.jsxs(s,{tone:"subdued",children:["Quota resets at: ",new Date(n.resetAt).toLocaleString("ja-JP")]})]})})]})})}export{y as default};

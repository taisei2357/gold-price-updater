var ea=Object.defineProperty;var ta=(e,t,i)=>t in e?ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Ft=(e,t,i)=>ta(e,typeof t!="symbol"?t+"":t,i);import{R as r,r as u,d as Ke,j as s}from"./index-OtPSfN_w.js";import{u as na,A as aa,b as ra,w as la}from"./components-C9-D01ZZ.js";import{M as nn,f as C,y as ia,j as He,B as Ee,b as sa,z as oa,u as St,A as an,D as rn,T as V,g as Te,x as ca,E as gt,I as N,v as We,F as da,w as ln,p as ua,o as fa,s as ga,G as Ye,e as ge,K as pt,H as ht,J as pa,N as ha,O as ma,Q as ba,R as Dt,W as xa,V as Ea,X as Sa,Y as vt,m as va,d as ee,P as sn,C as oe,c as ie,a as Ot}from"./Page-DvMnY4Uh.js";import{L as ce}from"./Layout-BvDTjT3E.js";import{C as Qe,S as Ta,B as ue}from"./Banner-DRkmBrND.js";import{S as $t}from"./Select-DS1yuizv.js";import{E as on,p as ka,l as Ca,d as Fe,m as ya}from"./context-C9td0CMk.js";import{a as zt,S as Ut,b as Pa,A as Aa}from"./Sticky-DAC3dAc4.js";import{S as Ia,F as ja}from"./context-Dqc0DVKX.js";import"./banner-context-Bfu3e4If.js";var Je=function(t){return r.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),r.createElement("path",{d:"M3.5 9.25a.75.75 0 0 0 1.5 0 3 3 0 0 1 3-3h6.566l-1.123 1.248a.75.75 0 1 0 1.114 1.004l2.25-2.5a.75.75 0 0 0-.027-1.032l-2.25-2.25a.75.75 0 1 0-1.06 1.06l.97.97h-6.44a4.5 4.5 0 0 0-4.5 4.5Z"}),r.createElement("path",{d:"M16.5 10.75a.75.75 0 0 0-1.5 0 3 3 0 0 1-3 3h-6.566l1.123-1.248a.75.75 0 1 0-1.114-1.004l-2.25 2.5a.75.75 0 0 0 .027 1.032l2.25 2.25a.75.75 0 0 0 1.06-1.06l-.97-.97h6.44a4.5 4.5 0 0 0 4.5-4.5Z"}))};Je.displayName="RefreshIcon";const cn=u.forwardRef(({alt:e,sourceSet:t,source:i,crossOrigin:n,onLoad:a,className:l,...d},c)=>{const o=t?t.map(({source:g,descriptor:E})=>`${g} ${E}`).join(","):null,f=u.useCallback(()=>{a&&a()},[a]);return r.createElement("img",Object.assign({ref:c,alt:e,src:i,crossOrigin:n,className:l,onLoad:f},o?{srcSet:o}:{},d))});cn.displayName="Image";var ct={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function _a(){const e=u.useContext(Ia);if(!e)throw new nn("No ScrollLockManager was provided.");return e}function wa(e){const t=_a();return u.useEffect(()=>(t.registerScrollLock(),()=>{t.unregisterScrollLock()}),[t]),null}function Na(e){const{onClick:t,onTouchStart:i,belowNavigation:n,transparent:a,setClosing:l}=e,d=C(ct.Backdrop,n&&ct.belowNavigation,a&&ct.transparent),c=()=>{l&&l(!0)},o=()=>{l&&l(!1),t&&t()};return r.createElement(r.Fragment,null,r.createElement(wa,null),r.createElement("div",{className:d,onClick:o,onTouchStart:i,onMouseDown:c}))}function Vt(e=[],t,i,n){const a=i.reduce((o,f)=>o+f,0),l=e.map((o,f)=>f),d=[],c=[];if(n>a)d.push(...l);else{let o=0,f=!1;l.forEach(g=>{const E=i[g];if(o+E>=n-t||f){c.push(g),f=!0;return}d.push(g),o+=E})}return{visiblePromotedActions:d,hiddenPromotedActions:c}}function La(e){const t=e.filter(i=>i.items);return e.length===t.length}function Ba(e){const t=e.filter(i=>!i.items);return e.length===t.length}function mt(e){return"title"in e&&"actions"in e}function Ha(e){return"items"in e}function Ra(e){if(!(!e||e.length===0)){if(La(e))return e;if(Ba(e))return[{items:e}]}}function Gt(e){var t;if(!e)return!1;for(const i of e)for(const n of i.items)if(((t=n.badge)==null?void 0:t.tone)==="new")return!0;return!1}var be={BulkActionsOuterLayout:"Polaris-BulkActions__BulkActionsOuterLayout",BulkActionsSelectAllWrapper:"Polaris-BulkActions__BulkActionsSelectAllWrapper",BulkActionsPromotedActionsWrapper:"Polaris-BulkActions__BulkActionsPromotedActionsWrapper",BulkActionsLayout:"Polaris-BulkActions__BulkActionsLayout","BulkActionsLayout--measuring":"Polaris-BulkActions--bulkActionsLayoutMeasuring",BulkActionsMeasurerLayout:"Polaris-BulkActions__BulkActionsMeasurerLayout",BulkActionButton:"Polaris-BulkActions__BulkActionButton",AllAction:"Polaris-BulkActions__AllAction"},Kt={Indicator:"Polaris-Indicator",pulseIndicator:"Polaris-Indicator--pulseIndicator"};function Ma({pulse:e=!0}){const t=C(Kt.Indicator,e&&Kt.pulseIndicator);return r.createElement("span",{className:t})}function Le({handleMeasurement:e,url:t,external:i,onAction:n,content:a,disclosure:l,accessibilityLabel:d,disabled:c,destructive:o,indicator:f,showContentInButton:g,size:E}){const b=u.useRef(null);ia(()=>{if(e&&b.current){const P=b.current.getBoundingClientRect().width;e(P)}});const k=l&&!g,j=k?void 0:a,_=r.createElement(Ee,{external:i,url:t,accessibilityLabel:k?a:d,tone:o?"critical":void 0,disclosure:l&&g,onClick:n,disabled:c,size:E,icon:k?r.createElement(sa,{source:oa,tone:"base"}):void 0},j);return r.createElement("div",{className:be.BulkActionButton,ref:b},k?r.createElement(He,{content:a,preferredPosition:"below"},_):_,f&&r.createElement(Ma,null))}function Wa({title:e,actions:t,isNewBadgeInBadgeActions:i,size:n}){const{value:a,toggle:l}=St(!1);return r.createElement(r.Fragment,null,r.createElement(an,{active:a,activator:r.createElement(Le,{disclosure:!0,showContentInButton:!0,onAction:l,content:e,indicator:i,size:n}),onClose:l,preferInputActivator:!0},r.createElement(rn,{items:t,onActionAnyItem:l})))}var dt={CheckableButton:"Polaris-CheckableButton",Checkbox:"Polaris-CheckableButton__Checkbox",Label:"Polaris-CheckableButton__Label"};const Fa=u.forwardRef(function({accessibilityLabel:t,label:i="",onToggleAll:n,selected:a,disabled:l,ariaLive:d},c){const o=u.useRef(null);function f(){var g;(g=o==null?void 0:o.current)==null||g.focus()}return u.useImperativeHandle(c,()=>({focus:f})),r.createElement("div",{className:dt.CheckableButton,onClick:n},r.createElement("div",{className:dt.Checkbox},r.createElement(Qe,{label:t,labelHidden:!0,checked:a,disabled:l,onChange:n,ref:o})),i?r.createElement("span",{className:dt.Label,"aria-live":d},r.createElement(V,{as:"span",variant:"bodySm",fontWeight:"medium"},i)):null)}),Da=4;function Oa({promotedActions:e=[],disabled:t,buttonSize:i,handleMeasurement:n}){const a=Te(),l=u.useRef(null),d=a.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),c=r.createElement(Le,{disclosure:!0,content:d}),o=u.useCallback(()=>{if(!l.current)return;const g=l.current.offsetWidth,E=l.current.children,k=Array.from(E).map(_=>Math.ceil(_.getBoundingClientRect().width)+Da),j=k.pop()||0;n({containerWidth:g,disclosureWidth:j,hiddenActionsWidths:k})},[n]);u.useEffect(()=>{o()},[o,e]);const f=e.map((g,E)=>mt(g)?r.createElement(Le,{key:E,disclosure:!0,showContentInButton:!0,content:g.title,size:i}):r.createElement(Le,Object.assign({key:E,disabled:t},g,{size:i})));return ca("resize",o),r.createElement("div",{className:be.BulkActionsMeasurerLayout,ref:l},f,c)}const $a=u.forwardRef(function({promotedActions:t,actions:i,disabled:n,buttonSize:a,paginatedSelectAllAction:l,paginatedSelectAllText:d,label:c,accessibilityLabel:o,selected:f,onToggleAll:g,onMoreActionPopoverToggle:E,width:b,selectMode:k},j){const _=Te(),[P,M]=u.useState(!1),[w,G]=u.useReducer((x,v)=>({...x,...v}),{disclosureWidth:0,containerWidth:1/0,actionsWidths:[],visiblePromotedActions:[],hiddenPromotedActions:[],hasMeasured:!1}),{visiblePromotedActions:te,hiddenPromotedActions:D,containerWidth:B,disclosureWidth:z,actionsWidths:U,hasMeasured:re}=w;u.useEffect(()=>{if(B===0||!t||t.length===0)return;const{visiblePromotedActions:x,hiddenPromotedActions:v}=Vt(t,z,U,B);G({visiblePromotedActions:x,hiddenPromotedActions:v,hasMeasured:B!==1/0})},[B,z,t,U]);const L=!t||t&&te.length===0?_.translate("Polaris.ResourceList.BulkActions.actionsActivatorLabel"):_.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),H=l?r.createElement(gt,{className:be.AllAction,onClick:l.onAction,size:"slim",disabled:n},r.createElement(V,{as:"span",variant:"bodySm",fontWeight:"medium"},l.content)):null,q=d&&l,ne={accessibilityLabel:o,label:q?d:c,selected:f,onToggleAll:g,disabled:n,ariaLive:q?"polite":void 0,ref:j},I=u.useCallback(()=>{E==null||E(P),M(x=>!x)},[E,P]),Z=u.useCallback(x=>{const{hiddenActionsWidths:v,containerWidth:A,disclosureWidth:F}=x;if(!t||t.length===0)return;const{visiblePromotedActions:se,hiddenPromotedActions:le}=Vt(t,F,v,A);G({visiblePromotedActions:se,hiddenPromotedActions:le,actionsWidths:v,containerWidth:A,disclosureWidth:F,hasMeasured:!0})},[t]),W=Ra(i),$=t?t.filter((x,v)=>!!te.includes(v)).map((x,v)=>mt(x)?r.createElement(Wa,Object.assign({key:v},x,{isNewBadgeInBadgeActions:Gt(W),size:a})):r.createElement(Le,Object.assign({key:v,disabled:n},x,{size:a}))):null,Y={items:D.map(x=>t==null?void 0:t[x]).reduce((x,v)=>v?mt(v)?x.concat(v.actions):x.concat(v):x,[])},R=u.useMemo(()=>{if(W)return W;if(!i)return[];let x=!0;return i.filter(v=>v).reduce((v,A)=>{if(Ha(A))return x=!1,v.concat(A);if(x){if(v.length===0)return[{items:[A]}];const F=v[v.length-1];return v.splice(v.length-1,1,{items:[...F.items,A]}),v}return x=!0,v.concat({items:[A]})},[])},[i,W]),p=r.createElement(Le,{disclosure:!0,showContentInButton:!$,onAction:I,content:L,disabled:n,indicator:Gt(W),size:a}),S=R.length>0?r.createElement(an,{active:P,activator:p,preferredAlignment:"right",onClose:I},r.createElement(rn,{sections:Y.items.length>0?[Y,...R]:R,onActionAnyItem:I})):null,T=r.createElement(Oa,{promotedActions:t,disabled:n,buttonSize:a,handleMeasurement:Z});return r.createElement("div",{className:be.BulkActions,style:b?{width:b}:void 0},r.createElement(N,{gap:"400",blockAlign:"center"},r.createElement("div",{className:be.BulkActionsSelectAllWrapper},r.createElement(Fa,ne),H),k?r.createElement("div",{className:be.BulkActionsPromotedActionsWrapper},r.createElement(N,{gap:"100",blockAlign:"center"},r.createElement("div",{className:be.BulkActionsOuterLayout},T,r.createElement("div",{className:C(be.BulkActionsLayout,!re&&be["BulkActionsLayout--measuring"])},$)),S)):null))});var Se={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function dn({children:e,fill:t}){const i=C(Se.Item,t&&Se["Item-fill"]);return r.createElement("div",{className:i},e)}const Tt=u.memo(function({children:t,vertical:i,spacing:n,distribution:a,alignment:l,wrap:d}){const c=C(Se.LegacyStack,i&&Se.vertical,n&&Se[We("spacing",n)],a&&Se[We("distribution",a)],l&&Se[We("alignment",l)],d===!1&&Se.noWrap),o=da(t).map((f,g)=>ln(f,dn,{key:g}));return r.createElement("div",{className:c},o)});Tt.Item=dn;var za={InlineGrid:"Polaris-InlineGrid"};function Ua({children:e,columns:t,gap:i,alignItems:n}){const a={...fa("inline-grid","grid-template-columns",Va(t)),...ua("inline-grid","gap","space",i),"--pc-inline-grid-align-items":n};return r.createElement("div",{className:za.InlineGrid,style:ga(a)},e)}function Va(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).map(([t,i])=>[t,Jt(i)])):Jt(e)}function Jt(e){if(e)return typeof e=="number"||!isNaN(Number(e))?`repeat(${Number(e)}, minmax(0, 1fr))`:typeof e=="string"?e:e.map(t=>{switch(t){case"oneThird":return"minmax(0, 1fr)";case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" ")}const Ga=u.createContext(void 0);var Ka="data:image/svg+xml,%3csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' d='M41.87 24a17.87 17.87 0 11-35.74 0 17.87 17.87 0 0135.74 0zm-3.15 18.96a24 24 0 114.24-4.24L59.04 54.8a3 3 0 11-4.24 4.24L38.72 42.96z' fill='%238C9196'/%3e%3c/svg%3e",Ja=Ka;function Xa({title:e,description:t,withIllustration:i}){const a=Te().translate("Polaris.EmptySearchResult.altText"),l=t?r.createElement("p",null,t):null,d=i?r.createElement(cn,{alt:a,source:Ja,draggable:!1}):null;return r.createElement(Tt,{alignment:"center",vertical:!0},d,r.createElement(V,{variant:"headingLg",as:"p"},e),r.createElement(V,{tone:"subdued",as:"span"},l))}const qa=u.memo(function({children:t,disabled:i,root:n}){return u.useEffect(()=>{if(i||!n)return;const a=Za(n)?n.current:n;!a||a.querySelector("[autofocus]")||Ye(a,!1)},[i,n]),r.createElement(r.Fragment,null,t)});function Za(e){return e.current!==void 0}function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xe.apply(null,arguments)}function kt(e,t){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;i[n]=e[n]}return i}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},bt(e,t)}function Ct(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bt(e,t)}function Ya(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Qa(e,t){e.classList?e.classList.add(t):Ya(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Xt(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function er(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Xt(e.className,t):e.setAttribute("class",Xt(e.className&&e.className.baseVal||"",t))}const qt={disabled:!1},qe=r.createContext(null);var un=function(t){return t.scrollTop},Re="unmounted",Ce="exited",ye="entering",Ne="entered",xt="exiting",pe=(function(e){Ct(t,e);function t(n,a){var l;l=e.call(this,n,a)||this;var d=a,c=d&&!d.isMounting?n.enter:n.appear,o;return l.appearStatus=null,n.in?c?(o=Ce,l.appearStatus=ye):o=Ne:n.unmountOnExit||n.mountOnEnter?o=Re:o=Ce,l.state={status:o},l.nextCallback=null,l}t.getDerivedStateFromProps=function(a,l){var d=a.in;return d&&l.status===Re?{status:Ce}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(a){var l=null;if(a!==this.props){var d=this.state.status;this.props.in?d!==ye&&d!==Ne&&(l=ye):(d===ye||d===Ne)&&(l=xt)}this.updateStatus(!1,l)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var a=this.props.timeout,l,d,c;return l=d=c=a,a!=null&&typeof a!="number"&&(l=a.exit,d=a.enter,c=a.appear!==void 0?a.appear:d),{exit:l,enter:d,appear:c}},i.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===ye){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this);d&&un(d)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ce&&this.setState({status:Re})},i.performEnter=function(a){var l=this,d=this.props.enter,c=this.context?this.context.isMounting:a,o=this.props.nodeRef?[c]:[Ke.findDOMNode(this),c],f=o[0],g=o[1],E=this.getTimeouts(),b=c?E.appear:E.enter;if(!a&&!d||qt.disabled){this.safeSetState({status:Ne},function(){l.props.onEntered(f)});return}this.props.onEnter(f,g),this.safeSetState({status:ye},function(){l.props.onEntering(f,g),l.onTransitionEnd(b,function(){l.safeSetState({status:Ne},function(){l.props.onEntered(f,g)})})})},i.performExit=function(){var a=this,l=this.props.exit,d=this.getTimeouts(),c=this.props.nodeRef?void 0:Ke.findDOMNode(this);if(!l||qt.disabled){this.safeSetState({status:Ce},function(){a.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:xt},function(){a.props.onExiting(c),a.onTransitionEnd(d.exit,function(){a.safeSetState({status:Ce},function(){a.props.onExited(c)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},i.setNextCallback=function(a){var l=this,d=!0;return this.nextCallback=function(c){d&&(d=!1,l.nextCallback=null,a(c))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},i.onTransitionEnd=function(a,l){this.setNextCallback(l);var d=this.props.nodeRef?this.props.nodeRef.current:Ke.findDOMNode(this),c=a==null&&!this.props.addEndListener;if(!d||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],f=o[0],g=o[1];this.props.addEndListener(f,g)}a!=null&&setTimeout(this.nextCallback,a)},i.render=function(){var a=this.state.status;if(a===Re)return null;var l=this.props,d=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var c=kt(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return r.createElement(qe.Provider,{value:null},typeof d=="function"?d(a,c):r.cloneElement(r.Children.only(d),c))},t})(r.Component);pe.contextType=qe;pe.propTypes={};function we(){}pe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:we,onEntering:we,onEntered:we,onExit:we,onExiting:we,onExited:we};pe.UNMOUNTED=Re;pe.EXITED=Ce;pe.ENTERING=ye;pe.ENTERED=Ne;pe.EXITING=xt;var tr=function(t,i){return t&&i&&i.split(" ").forEach(function(n){return Qa(t,n)})},ut=function(t,i){return t&&i&&i.split(" ").forEach(function(n){return er(t,n)})},yt=(function(e){Ct(t,e);function t(){for(var n,a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return n=e.call.apply(e,[this].concat(l))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(c,o){var f=n.resolveArguments(c,o),g=f[0],E=f[1];n.removeClasses(g,"exit"),n.addClass(g,E?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(c,o)},n.onEntering=function(c,o){var f=n.resolveArguments(c,o),g=f[0],E=f[1],b=E?"appear":"enter";n.addClass(g,b,"active"),n.props.onEntering&&n.props.onEntering(c,o)},n.onEntered=function(c,o){var f=n.resolveArguments(c,o),g=f[0],E=f[1],b=E?"appear":"enter";n.removeClasses(g,b),n.addClass(g,b,"done"),n.props.onEntered&&n.props.onEntered(c,o)},n.onExit=function(c){var o=n.resolveArguments(c),f=o[0];n.removeClasses(f,"appear"),n.removeClasses(f,"enter"),n.addClass(f,"exit","base"),n.props.onExit&&n.props.onExit(c)},n.onExiting=function(c){var o=n.resolveArguments(c),f=o[0];n.addClass(f,"exit","active"),n.props.onExiting&&n.props.onExiting(c)},n.onExited=function(c){var o=n.resolveArguments(c),f=o[0];n.removeClasses(f,"exit"),n.addClass(f,"exit","done"),n.props.onExited&&n.props.onExited(c)},n.resolveArguments=function(c,o){return n.props.nodeRef?[n.props.nodeRef.current,c]:[c,o]},n.getClassNames=function(c){var o=n.props.classNames,f=typeof o=="string",g=f&&o?o+"-":"",E=f?""+g+c:o[c],b=f?E+"-active":o[c+"Active"],k=f?E+"-done":o[c+"Done"];return{baseClassName:E,activeClassName:b,doneClassName:k}},n}var i=t.prototype;return i.addClass=function(a,l,d){var c=this.getClassNames(l)[d+"ClassName"],o=this.getClassNames("enter"),f=o.doneClassName;l==="appear"&&d==="done"&&f&&(c+=" "+f),d==="active"&&a&&un(a),c&&(this.appliedClasses[l][d]=c,tr(a,c))},i.removeClasses=function(a,l){var d=this.appliedClasses[l],c=d.base,o=d.active,f=d.done;this.appliedClasses[l]={},c&&ut(a,c),o&&ut(a,o),f&&ut(a,f)},i.render=function(){var a=this.props;a.classNames;var l=kt(a,["classNames"]);return r.createElement(pe,Xe({},l,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t})(r.Component);yt.defaultProps={classNames:""};yt.propTypes={};function nr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e,t){var i=function(l){return t&&u.isValidElement(l)?t(l):l},n=Object.create(null);return e&&u.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=i(a)}),n}function ar(e,t){e=e||{},t=t||{};function i(g){return g in t?t[g]:e[g]}var n=Object.create(null),a=[];for(var l in e)l in t?a.length&&(n[l]=a,a=[]):a.push(l);var d,c={};for(var o in t){if(n[o])for(d=0;d<n[o].length;d++){var f=n[o][d];c[n[o][d]]=i(f)}c[o]=i(o)}for(d=0;d<a.length;d++)c[a[d]]=i(a[d]);return c}function Pe(e,t,i){return i[t]!=null?i[t]:e.props[t]}function rr(e,t){return Pt(e.children,function(i){return u.cloneElement(i,{onExited:t.bind(null,i),in:!0,appear:Pe(i,"appear",e),enter:Pe(i,"enter",e),exit:Pe(i,"exit",e)})})}function lr(e,t,i){var n=Pt(e.children),a=ar(t,n);return Object.keys(a).forEach(function(l){var d=a[l];if(u.isValidElement(d)){var c=l in t,o=l in n,f=t[l],g=u.isValidElement(f)&&!f.props.in;o&&(!c||g)?a[l]=u.cloneElement(d,{onExited:i.bind(null,d),in:!0,exit:Pe(d,"exit",e),enter:Pe(d,"enter",e)}):!o&&c&&!g?a[l]=u.cloneElement(d,{in:!1}):o&&c&&u.isValidElement(f)&&(a[l]=u.cloneElement(d,{onExited:i.bind(null,d),in:f.props.in,exit:Pe(d,"exit",e),enter:Pe(d,"enter",e)}))}}),a}var ir=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},sr={component:"div",childFactory:function(t){return t}},At=(function(e){Ct(t,e);function t(n,a){var l;l=e.call(this,n,a)||this;var d=l.handleExited.bind(nr(l));return l.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},l}var i=t.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,l){var d=l.children,c=l.handleExited,o=l.firstRender;return{children:o?rr(a,c):lr(a,d,c),firstRender:!1}},i.handleExited=function(a,l){var d=Pt(this.props.children);a.key in d||(a.props.onExited&&a.props.onExited(l),this.mounted&&this.setState(function(c){var o=Xe({},c.children);return delete o[a.key],{children:o}}))},i.render=function(){var a=this.props,l=a.component,d=a.childFactory,c=kt(a,["component","childFactory"]),o=this.state.contextValue,f=ir(this.state.children).map(d);return delete c.appear,delete c.enter,delete c.exit,l===null?r.createElement(qe.Provider,{value:o},f):r.createElement(qe.Provider,{value:o},r.createElement(l,c,f))},t})(r.Component);At.propTypes={};At.defaultProps=sr;function or(e,t,i){if(!document)return;document.documentElement.style.setProperty(e,t)}var ft={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},Zt={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function fn({children:e,flush:t=!1,subdued:i=!1,titleHidden:n=!1}){const a=C(Zt.Section,n&&Zt.titleHidden);return r.createElement("div",{className:a},r.createElement(ge,Object.assign({as:"section",padding:t?"0":"400"},n&&{paddingInlineEnd:"0"},i&&{background:"bg-surface-tertiary"}),e))}var J={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function cr({trapping:e}){const t=u.useContext(ja),i=u.useId();if(!t)throw new nn("No FocusManager was provided.");const{trapFocusList:n,add:a,remove:l}=t,d=n[0]===i,c=u.useMemo(()=>({canSafelyFocus:d}),[d]);return u.useEffect(()=>{if(e)return a(i),()=>{l(i)}},[a,i,l,e]),c}function dr({trapping:e=!0,children:t}){const{canSafelyFocus:i}=cr({trapping:e}),n=u.useRef(null),[a,l]=u.useState(!0);u.useEffect(()=>{const o=i&&!(n.current&&n.current.contains(document.activeElement))?!e:!0;l(o)},[i,e]);const d=o=>{const f=n.current&&n.current.contains(document.activeElement);e===!1||!n.current||f||o.target instanceof Element&&o.target.matches(`${ka.selector} *`)||i&&o.target instanceof HTMLElement&&n.current!==o.target&&!n.current.contains(o.target)&&Ye(n.current)},c=o=>{if(e===!1||!n.current)return;const f=pa(n.current),g=ha(n.current);o.target===g&&!o.shiftKey&&(o.preventDefault(),ma(n.current)),o.target===f&&o.shiftKey&&(o.preventDefault(),ba(n.current))};return r.createElement(qa,{disabled:a,root:n.current},r.createElement("div",{ref:n},r.createElement(on,{event:"focusin",handler:d}),r.createElement(pt,{keyCode:ht.Tab,keyEvent:"keydown",handler:c}),t))}function ur({instant:e,labelledBy:t,children:i,limitHeight:n,size:a,onClose:l,onExited:d,onEntered:c,setClosing:o,hasToasts:f,...g}){const E=Ca(),b=u.useRef(null),k=u.useContext(Ga);let j;k&&(j=k.toastMessages);const _=C(J.Modal,a&&J[We("size",a)],n&&J.limitHeight),P=e?pe:gr;u.useEffect(()=>{b.current&&!b.current.contains(document.activeElement)&&Ye(b.current)},[]);const M=()=>{o&&o(!0)},w=()=>{o&&o(!1),l()},G=r.createElement("div",{"aria-live":"assertive"},j?j.map(te=>r.createElement(V,{visuallyHidden:!0,as:"p",key:te.id},te.content)):null);return r.createElement(P,Object.assign({},g,{nodeRef:b,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(E.motion["motion-duration-200"],10),onEntered:c,onExited:d}),r.createElement("div",{className:J.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:b},r.createElement(dr,null,r.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":t,"aria-labelledby":t,tabIndex:-1,className:J.Dialog},r.createElement("div",{className:_},r.createElement(pt,{keyCode:ht.Escape,keyEvent:"keydown",handler:M}),r.createElement(pt,{keyCode:ht.Escape,handler:w}),i),G))))}const fr={appear:C(J.animateFadeUp,J.entering),appearActive:C(J.animateFadeUp,J.entered),enter:C(J.animateFadeUp,J.entering),enterActive:C(J.animateFadeUp,J.entered),exit:C(J.animateFadeUp,J.exiting),exitActive:C(J.animateFadeUp,J.exited)};function gr({children:e,...t}){return r.createElement(yt,Object.assign({},t,{classNames:fr}),e)}function Yt({pressed:e,onClick:t}){const i=Te();return r.createElement(Ee,{variant:"tertiary",pressed:e,icon:Ta,onClick:t,accessibilityLabel:i.translate("Polaris.Common.close")})}function pr({id:e,children:t,closing:i,titleHidden:n,onClose:a}){return n||!t?r.createElement(ge,{position:"absolute",insetInlineEnd:"400",insetBlockStart:"400",zIndex:"1"},r.createElement(Yt,{onClick:a})):r.createElement(ge,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:"400",paddingInlineEnd:"400",borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},r.createElement(Ua,{columns:{xs:"1fr auto"},gap:"400"},r.createElement(N,{gap:"400",blockAlign:"center"},r.createElement(V,{id:e,as:"h2",variant:"headingMd",breakWord:!0},t)),r.createElement(Yt,{pressed:i,onClick:a})))}function hr({primaryAction:e,secondaryActions:t,children:i}){const n=e&&Dt(e,{variant:"primary"})||null,a=t&&Dt(t)||null,l=n||a?r.createElement(N,{gap:"200"},a,n):null;return r.createElement(N,{gap:"400",blockAlign:"center"},r.createElement(ge,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},r.createElement(N,{gap:"400",blockAlign:"center",align:"space-between"},r.createElement(ge,null,i),l)))}const Qt=200,mr=400,Et=function({children:t,title:i,titleHidden:n=!1,src:a,iFrameName:l,open:d,instant:c,sectioned:o,loading:f,size:g,limitHeight:E,footer:b,primaryAction:k,secondaryActions:j,onScrolledToBottom:_,activator:P,activatorWrapper:M="div",onClose:w,onIFrameLoad:G,onTransitionEnd:te,noScroll:D}){const[B,z]=u.useState(Qt),[U,re]=u.useState(!1),L=u.useId(),H=u.useRef(null),O=Te().translate("Polaris.Modal.iFrameTitle");let ne,I;const Z=u.useCallback(()=>{te&&te()},[te]),W=u.useCallback(()=>{z(Qt);const Y=P&&en(P)?P&&P.current:H.current;Y&&requestAnimationFrame(()=>Ye(Y))},[P]),$=u.useCallback(Y=>{const R=Y.target;if(R&&R.contentWindow)try{z(R.contentWindow.document.body.scrollHeight)}catch{z(mr)}G!=null&&G(Y)},[G]);if(d){const Y=!b&&!k&&!j?null:r.createElement(hr,{primaryAction:k,secondaryActions:j},b),R=o?ln(t,fn,{titleHidden:n}):t,p=f?r.createElement(ge,{padding:"400"},r.createElement(N,{gap:"400",align:"center",blockAlign:"center"},r.createElement(vt,null))):R,S=D?r.createElement("div",{className:ft.NoScrollBody},r.createElement(ge,{width:"100%",overflowX:"hidden",overflowY:"hidden"},p)):r.createElement(Sa,{shadow:!0,className:ft.Body,onScrolledToBottom:_},p),T=a?r.createElement("iframe",{name:l,title:O,src:a,className:ft.IFrame,onLoad:$,style:{height:`${B}px`}}):S;ne=r.createElement(ur,{instant:c,labelledBy:L,onClose:w,onEntered:Z,onExited:W,size:g,limitHeight:E,setClosing:re},r.createElement(pr,{titleHidden:n,id:L,closing:U,onClose:w},i),T,Y),I=r.createElement(Na,{setClosing:re,onClick:w})}const K=!c,Ie=P&&!en(P)?r.createElement(ge,{ref:H,as:M},P):null;return r.createElement(xa.Provider,{value:!0},Ie,r.createElement(Ea,{idPrefix:"modal"},r.createElement(At,{appear:K,enter:K,exit:K},ne),I))};function en(e){return Object.prototype.hasOwnProperty.call(e,"current")}Et.Section=fn;var h={IndexTable:"Polaris-IndexTable",IndexTableWrapper:"Polaris-IndexTable__IndexTableWrapper","IndexTableWrapper-scrollBarHidden":"Polaris-IndexTable__IndexTableWrapper--scrollBarHidden",IndexTableWrapperWithSelectAllActions:"Polaris-IndexTable__IndexTableWrapperWithSelectAllActions",LoadingPanel:"Polaris-IndexTable__LoadingPanel",LoadingPanelEntered:"Polaris-IndexTable__LoadingPanelEntered",LoadingPanelRow:"Polaris-IndexTable__LoadingPanelRow",LoadingPanelText:"Polaris-IndexTable__LoadingPanelText",Table:"Polaris-IndexTable__Table","Table-scrolling":"Polaris-IndexTable__Table--scrolling","TableCell-first":"Polaris-IndexTable__TableCell--first","StickyTable-scrolling":"Polaris-IndexTable__StickyTable--scrolling",TableCell:"Polaris-IndexTable__TableCell","TableHeading-first":"Polaris-IndexTable__TableHeading--first","TableHeading-second":"Polaris-IndexTable__TableHeading--second","Table-sticky":"Polaris-IndexTable__Table--sticky",StickyTable:"Polaris-IndexTable__StickyTable","Table-unselectable":"Polaris-IndexTable__Table--unselectable",TableRow:"Polaris-IndexTable__TableRow","TableRow-unclickable":"Polaris-IndexTable__TableRow--unclickable",toneSuccess:"Polaris-IndexTable--toneSuccess","TableRow-child":"Polaris-IndexTable__TableRow--child",toneWarning:"Polaris-IndexTable--toneWarning",toneCritical:"Polaris-IndexTable--toneCritical",toneSubdued:"Polaris-IndexTable--toneSubdued","TableRow-subheader":"Polaris-IndexTable__TableRow--subheader","TableRow-selected":"Polaris-IndexTable__TableRow--selected","TableRow-hovered":"Polaris-IndexTable__TableRow--hovered","TableRow-disabled":"Polaris-IndexTable__TableRow--disabled",ZebraStriping:"Polaris-IndexTable__ZebraStriping",TableHeading:"Polaris-IndexTable__TableHeading","TableHeading-flush":"Polaris-IndexTable__TableHeading--flush","TableHeading-align-center":"Polaris-IndexTable--tableHeadingAlignCenter","TableHeading-align-end":"Polaris-IndexTable--tableHeadingAlignEnd","TableHeading-extra-padding-right":"Polaris-IndexTable--tableHeadingExtraPaddingRight","TableHeading-sortable":"Polaris-IndexTable__TableHeading--sortable",TableHeadingSortButton:"Polaris-IndexTable__TableHeadingSortButton",TableHeadingSortIcon:"Polaris-IndexTable__TableHeadingSortIcon","TableHeadingSortButton-heading-align-end":"Polaris-IndexTable--tableHeadingSortButtonHeadingAlignEnd","TableHeadingSortButton-heading-align-end-currently-sorted":"Polaris-IndexTable--tableHeadingSortButtonHeadingAlignEndCurrentlySorted","TableHeadingSortIcon-heading-align-end":"Polaris-IndexTable--tableHeadingSortIconHeadingAlignEnd","TableHeadingSortButton-heading-align-end-previously-sorted":"Polaris-IndexTable--tableHeadingSortButtonHeadingAlignEndPreviouslySorted","right-aligned-sort-button-slide-out":"Polaris-IndexTable--rightAlignedSortButtonSlideOut","reveal-right-aligned-sort-button-icon":"Polaris-IndexTable--revealRightAlignedSortButtonIcon",TableHeadingUnderline:"Polaris-IndexTable__TableHeadingUnderline",TableHeadingTooltipUnderlinePlaceholder:"Polaris-IndexTable__TableHeadingTooltipUnderlinePlaceholder","TableHeadingSortIcon-visible":"Polaris-IndexTable__TableHeadingSortIcon--visible",TableHeadingSortSvg:"Polaris-IndexTable__TableHeadingSortSvg",SortableTableHeadingWithCustomMarkup:"Polaris-IndexTable__SortableTableHeadingWithCustomMarkup",SortableTableHeaderWrapper:"Polaris-IndexTable__SortableTableHeaderWrapper",ColumnHeaderCheckboxWrapper:"Polaris-IndexTable__ColumnHeaderCheckboxWrapper",FirstStickyHeaderElement:"Polaris-IndexTable__FirstStickyHeaderElement","TableHeading-unselectable":"Polaris-IndexTable__TableHeading--unselectable","TableCell-flush":"Polaris-IndexTable__TableCell--flush","Table-sticky-scrolling":"Polaris-IndexTable--tableStickyScrolling","StickyTableHeader-sticky-scrolling":"Polaris-IndexTable--stickyTableHeaderStickyScrolling","TableHeading-last":"Polaris-IndexTable__TableHeading--last","Table-sticky-last":"Polaris-IndexTable--tableStickyLast","StickyTableHeader-sticky-last":"Polaris-IndexTable--stickyTableHeaderStickyLast","Table-sortable":"Polaris-IndexTable__Table--sortable",StickyTableHeader:"Polaris-IndexTable__StickyTableHeader","StickyTableHeader-isSticky":"Polaris-IndexTable__StickyTableHeader--isSticky",StickyTableHeadings:"Polaris-IndexTable__StickyTableHeadings","StickyTableHeading-second":"Polaris-IndexTable__StickyTableHeading--second",unselectable:"Polaris-IndexTable--unselectable","StickyTableHeading-second-scrolling":"Polaris-IndexTable--stickyTableHeadingSecondScrolling",ScrollLeft:"Polaris-IndexTable__ScrollLeft",ScrollRight:"Polaris-IndexTable__ScrollRight","ScrollRight-onboarding":"Polaris-IndexTable__ScrollRight--onboarding",SelectAllActionsWrapper:"Polaris-IndexTable__SelectAllActionsWrapper",SelectAllActionsWrapperWithPagination:"Polaris-IndexTable__SelectAllActionsWrapperWithPagination",SelectAllActionsWrapperSticky:"Polaris-IndexTable__SelectAllActionsWrapperSticky",SelectAllActionsWrapperAtEnd:"Polaris-IndexTable__SelectAllActionsWrapperAtEnd",SelectAllActionsWrapperAtEndAppear:"Polaris-IndexTable__SelectAllActionsWrapperAtEndAppear",BulkActionsWrapper:"Polaris-IndexTable__BulkActionsWrapper",BulkActionsWrapperVisible:"Polaris-IndexTable__BulkActionsWrapperVisible",PaginationWrapper:"Polaris-IndexTable__PaginationWrapper",PaginationWrapperScrolledPastTop:"Polaris-IndexTable__PaginationWrapperScrolledPastTop",ScrollBarContainer:"Polaris-IndexTable__ScrollBarContainer",ScrollBarContainerWithPagination:"Polaris-IndexTable__ScrollBarContainerWithPagination",ScrollBarContainerScrolledPastTop:"Polaris-IndexTable__ScrollBarContainerScrolledPastTop",ScrollBarContainerWithSelectAllActions:"Polaris-IndexTable__ScrollBarContainerWithSelectAllActions",ScrollBarContainerSelectAllActionsSticky:"Polaris-IndexTable__ScrollBarContainerSelectAllActionsSticky",scrollBarContainerCondensed:"Polaris-IndexTable--scrollBarContainerCondensed",scrollBarContainerHidden:"Polaris-IndexTable--scrollBarContainerHidden",ScrollBar:"Polaris-IndexTable__ScrollBar",disableTextSelection:"Polaris-IndexTable--disableTextSelection",EmptySearchResultWrapper:"Polaris-IndexTable__EmptySearchResultWrapper",condensedRow:"Polaris-IndexTable--condensedRow",CondensedList:"Polaris-IndexTable__CondensedList",HeaderWrapper:"Polaris-IndexTable__HeaderWrapper","StickyTable-condensed":"Polaris-IndexTable__StickyTable--condensed","StickyTableHeader-condensed":"Polaris-IndexTable__StickyTableHeader--condensed",ScrollBarContent:"Polaris-IndexTable__ScrollBarContent"};const ve="All";let X=(function(e){return e.All="all",e.Page="page",e.Multi="multi",e.Single="single",e.Range="range",e})({});const gn=u.createContext(void 0),pn=u.createContext(void 0),hn=u.createContext(void 0);function mn(){const e=u.useContext(pn);if(!e)throw new Error("Missing IndexProvider context");return e}function br(){const e=u.useContext(hn);if(!e)throw new Error("Missing IndexProvider context");return e}function bn(){const e=u.useContext(gn);if(!e)throw new Error("Missing IndexProvider context");return e}function xr({selectedItemsCount:e,itemCount:t,hasMoreItems:i,resourceName:n,defaultPaginatedSelectAllText:a}){const l=Te(),d=!!e,c=e==="All"||e>0,o={singular:l.translate("Polaris.IndexProvider.defaultItemSingular"),plural:l.translate("Polaris.IndexProvider.defaultItemPlural")},f=n||o,g=j(),E=_(),b=P();let k="indeterminate";return!e||e===0?k=void 0:(e===ve||e===t)&&(k=!0),{paginatedSelectAllText:g,bulkActionsLabel:E,bulkActionsAccessibilityLabel:b,resourceName:f,selectMode:c,bulkSelectState:k,selectable:d};function j(){if(!(!d||!i)&&e===ve)return a||l.translate("Polaris.IndexProvider.allItemsSelected",{itemsLength:t,resourceNamePlural:f.plural.toLocaleLowerCase()})}function _(){const M=e===ve?`${t}+`:e;return l.translate("Polaris.IndexProvider.selected",{selectedItemsCount:M})}function P(){const M=t,w=e===M;return M===1&&w?l.translate("Polaris.IndexProvider.a11yCheckboxDeselectAllSingle",{resourceNameSingular:f.singular}):M===1?l.translate("Polaris.IndexProvider.a11yCheckboxSelectAllSingle",{resourceNameSingular:f.singular}):w?l.translate("Polaris.IndexProvider.a11yCheckboxDeselectAllMultiple",{itemsLength:t,resourceNamePlural:f.plural}):l.translate("Polaris.IndexProvider.a11yCheckboxSelectAllMultiple",{itemsLength:t,resourceNamePlural:f.plural})}}function Er({onSelectionChange:e=()=>{}}){const t=u.useRef(null);return u.useCallback((n,a,l,d)=>{const c=t.current;if(X.Multi&&typeof d=="number"&&(t.current=d),n===X.Single||n===X.Multi&&(typeof c!="number"||typeof d!="number"))e(X.Single,a,l);else if(n===X.Multi){const o=Math.min(c,d),f=Math.max(c,d);e(n,a,[o,f])}else n===X.Page||n===X.All?e(n,a):n===X.Range&&e(X.Range,a,l)},[e])}function Sr({children:e,resourceName:t,loading:i,onSelectionChange:n,selectedItemsCount:a=0,itemCount:l,hasMoreItems:d,condensed:c,selectable:o=!0,paginatedSelectAllText:f}){const{paginatedSelectAllText:g,bulkActionsLabel:E,bulkActionsAccessibilityLabel:b,resourceName:k,selectMode:j,bulkSelectState:_}=xr({selectedItemsCount:a,itemCount:l,hasMoreItems:d,resourceName:t,defaultPaginatedSelectAllText:f}),P=Er({onSelectionChange:n}),M=u.useMemo(()=>({itemCount:l,selectMode:j&&o,selectable:o,resourceName:k,loading:i,paginatedSelectAllText:g,hasMoreItems:d,bulkActionsLabel:E,bulkActionsAccessibilityLabel:b,bulkSelectState:_,selectedItemsCount:a,condensed:c}),[l,j,o,k,i,g,d,E,b,_,a,c]),w=u.useMemo(()=>({selectable:o,selectMode:j&&o,condensed:c}),[c,j,o]);return r.createElement(gn.Provider,{value:M},r.createElement(hn.Provider,{value:w},r.createElement(pn.Provider,{value:P},e)))}const It=u.createContext({}),vr=u.createContext(void 0),xn={scrollableContainer:null,canScrollLeft:!1,canScrollRight:!1},Tr=u.createContext(xn),En=u.memo(function({children:t,className:i,flush:n,colSpan:a,headers:l,scope:d,as:c="td",id:o}){const f=C(i,h.TableCell,n&&h["TableCell-flush"]);return r.createElement(c,{id:o,colSpan:a,headers:l,scope:d,className:f},t)});var kr={Wrapper:"Polaris-IndexTable-Checkbox__Wrapper"};const Cr=u.memo(function({accessibilityLabel:t}){const i=Te(),{resourceName:n}=bn(),{itemId:a,selected:l,disabled:d,onInteraction:c}=u.useContext(It),o=t||i.translate("Polaris.IndexTable.selectItem",{resourceName:n.singular});return r.createElement(yr,null,r.createElement("div",{className:kr.Wrapper,onClick:c,onKeyUp:Pr},r.createElement(Qe,{id:`Select-${a}`,label:o,labelHidden:!0,checked:l,disabled:d})))});function yr({children:e}){const{position:t}=u.useContext(It),i=u.useRef(null),n=u.useCallback(Fe(()=>{if(t!==0||!i.current)return;const{width:l}=i.current.getBoundingClientRect();or("--pc-checkbox-offset",`${l}px`)}),[t]);u.useEffect(()=>{n()},[n]),u.useEffect(()=>{if(i.current)return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[n]);const a=C(h.TableCell,h["TableCell-first"]);return r.createElement("td",{className:a,ref:i},e)}function Pr(){}const Ar=u.memo(function({children:t,hideSelectable:i,selected:n,id:a,position:l,tone:d,disabled:c,selectionRange:o,rowType:f="data",accessibilityLabel:g,onNavigation:E,onClick:b}){const{selectable:k,selectMode:j,condensed:_}=br(),P=k&&!i,M=mn(),{value:w,setTrue:G,setFalse:te}=St(!1),D=u.useCallback(I=>{I.stopPropagation();let Z=X.Single;if(c||!P||"key"in I&&I.key!==" "||!M)return;I.nativeEvent.shiftKey?Z=X.Multi:o&&(Z=X.Range),M(Z,!n,o??a,l)},[a,M,n,o,l,c,P]),B=u.useMemo(()=>({itemId:a,selected:n,position:l,onInteraction:D,disabled:c}),[a,n,c,l,D]),z=u.useRef(null),U=u.useRef(!1),re=u.useRef(null),L=u.useCallback(I=>{re.current=I;const Z=I==null?void 0:I.querySelector("[data-primary-link]");Z&&(z.current=Z)},[]),H=C(h.TableRow,f==="subheader"&&h["TableRow-subheader"],f==="child"&&h["TableRow-child"],P&&_&&h.condensedRow,n&&h["TableRow-selected"],w&&!_&&h["TableRow-hovered"],c&&h["TableRow-disabled"],d&&h[We("tone",d)],!P&&!b&&!z.current&&h["TableRow-unclickable"]);let q;(!c&&P||b||z.current)&&(q=I=>{if(f!=="subheader"&&!(!re.current||U.current)){if(I.stopPropagation(),I.preventDefault(),b){b();return}if(z.current&&!j){U.current=!0;const{ctrlKey:Z,metaKey:W}=I.nativeEvent;if(E&&E(a),(Z||W)&&z.current instanceof HTMLAnchorElement){U.current=!1,window.open(z.current.href,"_blank");return}z.current.dispatchEvent(new MouseEvent(I.type,I.nativeEvent))}else U.current=!1,D(I)}});const O=_?"li":"tr",ne=i?r.createElement(En,null):r.createElement(Cr,{accessibilityLabel:g});return r.createElement(It.Provider,{value:B},r.createElement(vr.Provider,{value:w},r.createElement(O,{key:a,id:a,className:H,onMouseEnter:G,onMouseLeave:te,onClick:q,ref:L},k?ne:null,t)))});function tn(e,t){return e?Array.from(e.querySelectorAll(t)):[]}var Ir={ScrollContainer:"Polaris-IndexTable-ScrollContainer"};function jr({children:e,scrollableContainerRef:t,onScroll:i}){u.useEffect(()=>{t.current&&t.current.dispatchEvent(new Event("scroll"))},[t]);const[n,a]=u.useState(xn),l=u.useCallback(Fe(()=>{if(!t.current)return;const d=t.current.scrollWidth-t.current.offsetWidth,c=t.current.scrollLeft>0,o=t.current.scrollLeft<d;i(c,o),a({scrollableContainer:t.current,canScrollLeft:c,canScrollRight:o})},40,{trailing:!0,leading:!0,maxWait:40}),[i,t]);return r.createElement(Tr.Provider,{value:n},r.createElement("div",{className:Ir.ScrollContainer,ref:t,onScroll:l},e))}const _r=16,wr=300;function Nr({headings:e,bulkActions:t=[],promotedBulkActions:i=[],children:n,emptyState:a,sort:l,paginatedSelectAllActionText:d,lastColumnSticky:c=!1,sortable:o,sortDirection:f,defaultSortDirection:g="descending",sortColumnIndex:E,onSort:b,sortToggleLabels:k,hasZebraStriping:j,pagination:_,...P}){const{loading:M,bulkSelectState:w,resourceName:G,bulkActionsAccessibilityLabel:te,selectMode:D,selectable:B=P.selectable,paginatedSelectAllText:z,itemCount:U,hasMoreItems:re,selectedItemsCount:L,condensed:H}=bn(),q=mn(),O=Te(),{value:ne,toggle:I}=St(!1),Z=u.useRef({top:0,left:0}),W=u.useRef([]),$=u.useRef(null),K=u.useRef(null),Ie=u.useRef(null),Y=u.useRef(null),[R,p]=u.useState(!1),[S,T]=u.useState(null),[x,v]=u.useState(!0),A=u.useRef([]),F=u.useRef([]),se=u.useRef(null),le=u.useRef(null),et=u.useRef(null),xe=u.useRef(null),jt=u.useRef(null),tt=u.useRef(!1),nt=u.useRef(!1),_t=u.useRef(E),at=u.useRef(!1),wt=u.useRef(0),De=u.useRef(!1);L!==wt.current&&(at.current=!0,wt.current=L),!De.current&&L!==0&&(De.current=!0);const Sn=u.useCallback(m=>{m!==null&&!R&&p(!0),Ie.current=m},[R]),vn=u.useCallback(()=>{q(L===ve?X.Page:X.All,!0)},[q,L]),Oe=u.useMemo(()=>Fe(()=>{var y,Q;if(!K.current||!$.current)return;const m=$.current.getBoundingClientRect();Z.current={top:m.top,left:m.left},W.current=A.current.map(ae=>({offsetWidth:ae.offsetWidth||0,offsetLeft:ae.offsetLeft||0})),A.current.length!==0&&(B&&A.current.length>1&&(A.current[1].style.left=`${W.current[0].offsetWidth}px`,(y=F.current)!=null&&y.length&&(F.current[1].style.left=`${W.current[0].offsetWidth}px`)),(Q=F.current)!=null&&Q.length&&F.current.forEach((ae,de)=>{var he;ae.style.minWidth=`${((he=W.current[de])==null?void 0:he.offsetWidth)||0}px`}))}),[B]),Be=u.useCallback(()=>{var m,y;xe.current&&K.current&&R&&(xe.current.style.setProperty("--pc-index-table-scroll-bar-content-width",`${K.current.offsetWidth-_r}px`),v(((m=jt.current)==null?void 0:m.offsetWidth)===((y=K.current)==null?void 0:y.offsetWidth)))},[R]),Nt=u.useCallback(Fe(Be,wr,{trailing:!0}),[Be]),[Lt,Bt]=u.useState(!0),$e=u.useCallback(Fe(()=>{if(!c||!K.current||!$.current)return;const m=K.current.getBoundingClientRect(),y=$.current.getBoundingClientRect();Bt(m.width>y.width)}),[c]);u.useEffect(()=>{$e()},[$e]);const[je,Tn]=u.useState(!0),ze=u.useCallback(()=>{if(!$.current||!A.current.length)return;const m=$.current.getBoundingClientRect(),y=B?A.current[0].getBoundingClientRect().width:0,Q=A.current[B?1:0].getBoundingClientRect().width,ae=B?A.current.length>2:1,de=c&&ae?A.current[A.current.length-1].getBoundingClientRect().width:0;Tn(m.width>Q+y+de+100)},[c,B]);u.useEffect(()=>{R&&ze()},[ze,R]);const kn=u.useCallback(()=>{var m;(m=xe.current)==null||m.style.setProperty("--pc-index-table-scroll-bar-content-width","0px"),Oe(),Nt(),$e(),ze()},[Oe,Nt,$e,ze]),Cn=u.useCallback((m,y)=>{!$.current||!xe.current||(tt.current||(nt.current=!0,xe.current.scrollLeft=$.current.scrollLeft),tt.current=!1,et.current&&(et.current.scrollLeft=$.current.scrollLeft),(m&&!ne||!m&&ne)&&I(),Bt(y))},[ne,I]),yn=u.useCallback(()=>{!$.current||!xe.current||(nt.current||(tt.current=!0,$.current.scrollLeft=xe.current.scrollLeft),nt.current=!1)},[]);ya(()=>{A.current=tn(K.current,"[data-index-table-heading]"),F.current=tn(se.current,"[data-index-table-sticky-heading]"),Oe()},[e,Oe,le,R]),u.useEffect(()=>{Be(),T(H?Y.current:K.current)},[R,Be,H]);const Pn=e.map((m,y)=>Rt(m,y,"th",{"data-index-table-heading":!0},m.id)),An=e.map((m,y)=>Rt(m,y,"div",{"data-index-table-sticky-heading":!0})),[In,jn]=u.useState(L===ve?`${U}+`:L);u.useEffect(()=>{(L===ve||L>0)&&jn(L===ve?`${U}+`:L)},[L,U]);const _n=O.translate("Polaris.IndexTable.selected",{selectedItemsCount:In}),wn=u.useCallback(()=>{q(X.Page,!w||w==="indeterminate")},[w,q]),Nn=Zn(),rt=r.createElement("div",{className:C(h.LoadingPanel,M&&h.LoadingPanelEntered)},r.createElement("div",{className:h.LoadingPanelRow},r.createElement(vt,{size:"small"}),r.createElement("span",{className:h.LoadingPanelText},O.translate("Polaris.IndexTable.resourceLoadingAccessibilityLabel",{resourceNamePlural:G.plural.toLocaleLowerCase()})))),Ln=C(h.StickyTable,ne&&h["StickyTable-scrolling"],H&&h["StickyTable-condensed"]),lt=!H||L,Bn=lt?i:[],Hn=lt?t:[],Rn=r.createElement("div",{className:Ln,role:"presentation"},r.createElement(Pa,{boundingElement:S},m=>{const y=C(h.StickyTableHeader,m&&h["StickyTableHeader-isSticky"],je&&h["StickyTableHeader-sticky"],ne&&h["StickyTableHeader-scrolling"],je&&c&&h["StickyTableHeader-sticky-last"],je&&c&&Lt&&h["StickyTableHeader-sticky-scrolling"]),Q=C(h.BulkActionsWrapper,D&&h.BulkActionsWrapperVisible,H&&h["StickyTableHeader-condensed"],m&&h["StickyTableHeader-isSticky"]),ae=lt&&!H?r.createElement("div",{className:Q},r.createElement($a,{selectMode:D,onToggleAll:wn,paginatedSelectAllText:z,paginatedSelectAllAction:Nn,accessibilityLabel:te,selected:w,promotedActions:Bn,actions:Hn,onSelectModeToggle:H?Yn:void 0,label:_n,buttonSize:"micro"})):null,de=H?r.createElement("div",{className:C(h.HeaderWrapper,(!B||H)&&h.unselectable)},rt,l):r.createElement("div",{className:y,ref:se},rt,r.createElement("div",{className:h.StickyTableHeadings,ref:et},An));return r.createElement(r.Fragment,null,de,ae)})),Mn=C(h.ScrollBarContainer,_&&h.ScrollBarContainerWithPagination,H&&h.scrollBarContainerCondensed,x&&h.scrollBarContainerHidden),Wn=C(K.current&&R&&h.ScrollBarContent),Fn=U>0?r.createElement(Aa,{onMount:Be},r.createElement("div",{className:Mn,ref:jt},r.createElement("div",{onScroll:yn,className:h.ScrollBar,ref:xe},r.createElement("div",{className:Wn})))):null,Dn=o==null?void 0:o.some(m=>m),On=C(h.Table,ne&&h["Table-scrolling"],D&&h.disableTextSelection,!B&&h["Table-unselectable"],je&&h["Table-sticky"],Dn&&h["Table-sortable"],je&&c&&h["Table-sticky-last"],je&&c&&Lt&&h["Table-sticky-scrolling"],j&&h.ZebraStriping),$n=a||r.createElement(Xa,{title:O.translate("Polaris.IndexTable.emptySearchTitle",{resourceNamePlural:G.plural}),description:O.translate("Polaris.IndexTable.emptySearchDescription"),withIllustration:!0}),Ht=r.createElement(r.Fragment,null,r.createElement(on,{event:"resize",handler:kn}),Rn),zn=C(h.CondensedList,j&&h.ZebraStriping),Un=H?r.createElement(r.Fragment,null,Ht,r.createElement("ul",{"data-selectmode":!!D,className:zn,ref:Y},n)):r.createElement(r.Fragment,null,Ht,r.createElement(jr,{scrollableContainerRef:$,onScroll:Cn},r.createElement("table",{ref:K,className:On},r.createElement("thead",null,r.createElement("tr",{className:h.HeadingRow},Pn)),r.createElement("tbody",{ref:Sn},n)))),Vn=U>0?Un:r.createElement("div",{className:h.EmptySearchResultWrapper},$n),Gn=_?r.createElement("div",{className:h.PaginationWrapper},r.createElement(va,Object.assign({type:"table"},_))):null;return r.createElement(r.Fragment,null,r.createElement("div",{className:h.IndexTable},r.createElement("div",{className:h.IndexTableWrapper},!H&&rt,Vn,Fn,Gn)));function Rt(m,y,Q,ae,de){const he=y===0,_e=y===e.length-1,me=o==null?void 0:o.some(Ge=>Ge===!0),Ue=m.alignment||"start",it=C(h.TableHeading,Ue==="center"&&h["TableHeading-align-center"],Ue==="end"&&h["TableHeading-align-end"],me&&h["TableHeading-sortable"],he&&h["TableHeading-second"],_e&&!m.hidden&&h["TableHeading-last"],!B&&h["TableHeading-unselectable"],m.flush&&h["TableHeading-flush"]),st=B!==!1&&he&&W.current&&W.current.length>0?{left:W.current[0].offsetWidth}:void 0,ke=r.createElement(Q,Object.assign({id:de,className:it,key:Lr(m),style:st},ae),Xn(m,y));if(y!==0||!B)return ke;const Ve=C(h.TableHeading,me&&h["TableHeading-sortable"],y===0&&h["TableHeading-first"]);return[r.createElement(Q,Object.assign({className:Ve,key:`${m}-${y}`},ae),Kn()),ke]}function Kn(){return r.createElement("div",{className:h.ColumnHeaderCheckboxWrapper},r.createElement(Qe,{label:O.translate("Polaris.IndexTable.selectAllLabel",{resourceNamePlural:G.plural}),labelHidden:!0,onChange:qn,checked:w}))}function Jn(m,y){at.current=!1,De.current=!1,_t.current=E,b==null||b(m,y)}function Xn(m,y){let Q;const ae={width:m.tooltipWidth??"default",activatorWrapper:"div",dismissOnMouseOut:!0,persistOnClick:m.tooltipPersistsOnClick},de={...ae,padding:"400",borderRadius:"200",content:m.tooltipContent,preferredPosition:"above"},he=r.createElement(V,{as:"span",variant:"bodySm",fontWeight:"medium",visuallyHidden:m.hidden},m.title);m.new?Q=r.createElement(Tt,{wrap:!1,alignment:"center"},he,r.createElement(ee,{tone:"new"},O.translate("Polaris.IndexTable.onboardingBadgeText"))):Q=he;const _e={"--pc-index-table-heading-extra-padding-right":m.paddingBlockEnd?`var(--p-space-${m.paddingBlockEnd})`:"0"};if(o!=null&&o[y]){const me=y===E,Ue=!me&&y===_t.current,it=at.current||!De.current&&L!==0,st=f==="ascending";let ke=m.defaultSortDirection??g,Ve=ke==="ascending"?zt:Ut;me&&(ke=st?"descending":"ascending",Ve=f==="ascending"?zt:Ut);const ot=r.createElement("span",{className:C(h.TableHeadingSortIcon,(m==null?void 0:m.alignment)==="end"&&h["TableHeadingSortIcon-heading-align-end"],me&&h["TableHeadingSortIcon-visible"])},r.createElement(Ve,{focusable:"false","aria-hidden":"true",className:h.TableHeadingSortSvg})),Ge={onClick:()=>Jn(y,ke),className:C(h.TableHeadingSortButton,!me&&(m==null?void 0:m.alignment)==="end"&&h["TableHeadingSortButton-heading-align-end"],me&&(m==null?void 0:m.alignment)==="end"&&h["TableHeadingSortButton-heading-align-end-currently-sorted"],Ue&&!it&&(m==null?void 0:m.alignment)==="end"&&h["TableHeadingSortButton-heading-align-end-previously-sorted"]),tabIndex:D?-1:0},Mt=r.createElement(gt,Ge,ot,r.createElement("span",{className:C(k&&D&&m.tooltipContent&&h.TableHeadingTooltipUnderlinePlaceholder)},Q));if(!k||D)return r.createElement("div",{className:h.SortableTableHeadingWithCustomMarkup},Mt);const Qn=me?f:ke,Wt=k[y][Qn];if(!m.tooltipContent)return r.createElement("div",{style:_e,className:C(m.paddingBlockEnd&&h["TableHeading-extra-padding-right"])},r.createElement(He,Object.assign({},ae,{content:Wt,preferredPosition:"above"}),Mt));if(m.tooltipContent)return r.createElement("div",{className:C(h.SortableTableHeadingWithCustomMarkup,m.paddingBlockEnd&&h["TableHeading-extra-padding-right"]),style:_e},r.createElement(gt,Ge,r.createElement(He,de,r.createElement("span",{className:h.TableHeadingUnderline},Q)),r.createElement(He,Object.assign({},ae,{content:Wt,preferredPosition:"above"}),ot)))}return m.tooltipContent?r.createElement("div",{style:_e,className:C(m.paddingBlockEnd&&h["TableHeading-extra-padding-right"])},r.createElement(He,Object.assign({},de,{activatorWrapper:"span"}),r.createElement("span",{className:C(h.TableHeadingUnderline,h.SortableTableHeaderWrapper)},Q))):r.createElement("div",{style:_e,className:C(m.paddingBlockEnd&&h["TableHeading-extra-padding-right"])},Q)}function qn(m){q(X.Page,m)}function Zn(){if(!B||!re)return;const m=d??O.translate("Polaris.IndexTable.selectAllItems",{itemsLength:U,resourceNamePlural:G.plural.toLocaleLowerCase()});return{content:L===ve?O.translate("Polaris.IndexTable.undo"):m,onAction:vn}}function Yn(){q(X.All,!1)}}function Lr(e){return e.id?e.id:typeof e.title=="string"?e.title:""}function fe({children:e,selectable:t=!0,itemCount:i,selectedItemsCount:n=0,resourceName:a,loading:l,hasMoreItems:d,condensed:c,onSelectionChange:o,paginatedSelectAllText:f,...g}){return r.createElement(r.Fragment,null,r.createElement(Sr,{selectable:t&&!c,itemCount:i,selectedItemsCount:n,resourceName:a,loading:l,hasMoreItems:d,condensed:c,onSelectionChange:o,paginatedSelectAllText:f},r.createElement(Nr,g,e)))}fe.Cell=En;fe.Row=Ar;const Ze=class Ze{static set(t,i,n=Ze.DEFAULT_TTL){if(typeof window>"u")return;const a={data:i,timestamp:Date.now(),expiresAt:Date.now()+n};try{sessionStorage.setItem(t,JSON.stringify(a))}catch(l){console.warn("Shopify:",l)}}static get(t){if(typeof window>"u")return null;try{const i=sessionStorage.getItem(t);if(!i)return null;const n=JSON.parse(i);return Date.now()>n.expiresAt?(sessionStorage.removeItem(t),null):n.data}catch(i){return console.warn(":",i),sessionStorage.removeItem(t),null}}static clear(t){typeof window>"u"||sessionStorage.removeItem(t)}static clearAll(){typeof window>"u"||sessionStorage.clear()}static isExpired(t){if(typeof window>"u")return!0;try{const i=sessionStorage.getItem(t);if(!i)return!0;const n=JSON.parse(i);return Date.now()>n.expiresAt}catch{return!0}}static getInfo(t){if(typeof window>"u")return null;try{const i=sessionStorage.getItem(t);if(!i)return null;const n=JSON.parse(i);return{timestamp:n.timestamp,expiresAt:n.expiresAt}}catch{return null}}};Ft(Ze,"DEFAULT_TTL",300*1e3);let Ae=Ze;const Me={PRODUCTS:"shopify_products_cache"};function Br(e,t,i="all"){let n=e;return i==="k18"&&(n=e.filter(a=>a.title.includes("K18")||a.title.includes("18"))),t&&(n=n.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.handle.toLowerCase().includes(t.toLowerCase()))),n}function Hr(e,t,i=.93){const n=e*(1+t),a=e*i,l=Math.max(n,a);return Math.ceil(l/10)*10}function Rr({products:e,goldPrice:t,platinumPrice:i,selectedProductIds:n,savedSelectedProducts:a,shopSetting:l,forceRefresh:d,cacheTimestamp:c}){var Y,R;const o=ra(),f=la(),[g,E]=u.useState([]),[b,k]=u.useState({}),[j,_]=u.useState(""),[P,M]=u.useState("all"),[w,G]=u.useState((l==null?void 0:l.minPricePct)||93),[te,D]=u.useState(!1),[B,z]=u.useState([]),[U,re]=u.useState(!1),[L,H]=u.useState(null);u.useEffect(()=>{if(!d){const p=Ae.get(Me.PRODUCTS);if(p&&Array.isArray(p)&&p.length>0){re(!0);const S=Ae.getInfo(Me.PRODUCTS);if(S&&H(new Date(S.timestamp)),n&&n.length>0){const T=p.filter(x=>n.includes(x.id));if(E(T),a&&a.length>0){const x={};a.forEach(v=>{x[v.productId]=v.metalType}),k(x)}}return}}if(e&&e.length>0&&(Ae.set(Me.PRODUCTS,e),re(!1),H(new Date(c)),n&&n.length>0)){const p=e.filter(S=>n.includes(S.id));if(E(p),a&&a.length>0){const S={};a.forEach(T=>{S[T.productId]=T.metalType}),k(S)}}},[e,n,d,c]);const q=u.useCallback(()=>{Ae.clear(Me.PRODUCTS),re(!1),f.revalidate()},[f]),O=Br(e,j,P),ne=u.useCallback((p,S)=>{const T=e.find(x=>x.id===p);S?E(x=>[...x,T]):(E(x=>x.filter(v=>v.id!==p)),k(x=>{const v={...x};return delete v[p],v}))},[e]),I=u.useCallback(p=>{p?E(O):(E([]),k({}))},[O]),Z=u.useCallback((p,S)=>{k(T=>({...T,[p]:S}))},[]),W=u.useCallback(p=>{const S={};g.forEach(T=>{n.includes(T.id)||(S[T.id]=p)}),k(T=>({...T,...S}))},[g,n]),$=u.useCallback(()=>{const p=g.filter(T=>!b[T.id]);if(p.length>0){alert(`
${p.map(T=>T.title).join(`
`)}`);return}const S=new FormData;S.append("action","saveSelection"),g.forEach(T=>{S.append("productId",T.id),S.append("metalType",b[T.id])}),o.submit(S,{method:"post"})},[g,b,o]),K=u.useCallback(()=>{if(g.length===0)return;const p=g.map(S=>{const T=b[S.id]||"gold",x=T==="gold"?t:i;return x?{...S,metalType:T,variants:S.variants.edges.map(v=>{const A=v.node,F=parseFloat(A.price),se=Hr(F,x.ratio,w/100);return{...A,currentPrice:F,newPrice:se,priceChange:se-F,changed:se!==F}})}:{...S,metalType:T,error:`${T==="gold"?"":""}`,variants:S.variants.edges.map(v=>({...v.node,currentPrice:parseFloat(v.node.price),newPrice:parseFloat(v.node.price),priceChange:0,changed:!1}))}});z(p),D(!0)},[g,t,i,b,w]),Ie=u.useCallback(()=>{const p=g.some(x=>(b[x.id]||"gold")==="gold"),S=g.some(x=>b[x.id]==="platinum");if(p&&!t||S&&!i)return;const T=g.map(x=>({...x,variants:x.variants.edges.map(v=>v.node)}));o.submit({action:"updatePrices",selectedProducts:JSON.stringify(T),minPriceRate:w.toString()},{method:"post"}),D(!1)},[g,t,i,b,w,o]);return s.jsx(sn,{title:"",subtitle:`${O.length}${e.length}`,primaryAction:{content:"",onAction:K,disabled:g.length===0||g.some(p=>(b[p.id]||"gold")==="gold")&&!t||g.some(p=>b[p.id]==="platinum")&&!i,loading:o.state==="submitting"},secondaryActions:[{content:"",icon:Je,onAction:q,loading:f.state==="loading"}],children:s.jsxs(ce,{children:[s.jsxs(ce.Section,{children:[s.jsxs(ce,{children:[s.jsxs(ce.Section,{children:[t&&s.jsx(oe,{children:s.jsx("div",{style:{padding:"16px",background:"#fbbf24",borderRadius:"8px"},children:s.jsxs(ie,{gap:"300",children:[s.jsxs(N,{align:"space-between",children:[s.jsxs(N,{gap:"200",blockAlign:"center",children:[s.jsx("span",{style:{fontSize:"20px"},children:""}),s.jsx("h3",{style:{color:"white"},children:" "})]}),s.jsx(ee,{tone:t.changeDirection==="up"?"critical":t.changeDirection==="down"?"success":"info",children:t.changeDirection==="up"?"":t.changeDirection==="down"?"":""})]}),s.jsxs(N,{gap:"600",children:[s.jsxs("div",{children:[s.jsx("p",{style:{color:"white",margin:0},children:""}),s.jsx("h4",{style:{color:"white",margin:"4px 0"},children:t.retailPriceFormatted})]}),s.jsxs("div",{children:[s.jsx("p",{style:{color:"white",margin:0},children:""}),s.jsx("h4",{style:{color:"white",margin:"4px 0"},children:t.change})]}),s.jsxs("div",{children:[s.jsx("p",{style:{color:"white",margin:0},children:""}),s.jsxs("h4",{style:{color:"white",margin:"4px 0"},children:[t.percentage,"%"]})]})]}),s.jsxs("p",{style:{color:"white",margin:0,fontSize:"12px"},children:[": ",new Date(t.lastUpdated).toLocaleString("ja-JP")]})]})})}),!t&&s.jsx(ue,{tone:"critical",children:""})]}),s.jsxs(ce.Section,{children:[i&&s.jsx(oe,{children:s.jsx("div",{style:{padding:"16px",background:"#94a3b8",borderRadius:"8px"},children:s.jsxs(ie,{gap:"300",children:[s.jsxs(N,{align:"space-between",children:[s.jsxs(N,{gap:"200",blockAlign:"center",children:[s.jsx("span",{style:{fontSize:"20px"},children:""}),s.jsx("h3",{style:{color:"white"},children:" "})]}),s.jsx(ee,{tone:i.changeDirection==="up"?"critical":i.changeDirection==="down"?"success":"info",children:i.changeDirection==="up"?"":i.changeDirection==="down"?"":""})]}),s.jsxs(N,{gap:"600",children:[s.jsxs("div",{children:[s.jsx("p",{style:{color:"white",margin:0},children:""}),s.jsx("h4",{style:{color:"white",margin:"4px 0"},children:i.retailPriceFormatted})]}),s.jsxs("div",{children:[s.jsx("p",{style:{color:"white",margin:0},children:""}),s.jsx("h4",{style:{color:"white",margin:"4px 0"},children:i.change})]}),s.jsxs("div",{children:[s.jsx("p",{style:{color:"white",margin:0},children:""}),s.jsxs("h4",{style:{color:"white",margin:"4px 0"},children:[i.percentage,"%"]})]})]}),s.jsxs("p",{style:{color:"white",margin:0,fontSize:"12px"},children:[": ",new Date(i.lastUpdated).toLocaleString("ja-JP")]})]})})}),!i&&s.jsx(ue,{tone:"critical",children:""})]})]}),!t&&!i&&s.jsx(ue,{tone:"critical",children:""})]}),s.jsx(ce.Section,{children:s.jsx(oe,{children:s.jsxs(ie,{gap:"400",children:[s.jsxs(N,{align:"space-between",children:[s.jsx("h3",{children:""}),s.jsx(Ee,{icon:Je,variant:"tertiary",onClick:q,loading:f.state==="loading",children:""})]}),s.jsx("div",{children:s.jsxs(V,{variant:"bodySm",tone:"subdued",children:[": ",L?L.toLocaleString("ja-JP"):"...",U&&s.jsx(ee,{tone:"info",size:"small",children:""})]})}),s.jsxs(N,{gap:"400",children:[s.jsx("div",{style:{flex:1},children:s.jsx(Ot,{label:"",value:j,onChange:_,placeholder:"...",clearButton:!0,onClearButtonClick:()=>_("")})}),s.jsx("div",{style:{minWidth:"150px"},children:s.jsx($t,{label:"",options:[{label:"",value:"all"},{label:"K18",value:"k18"}],value:P,onChange:M})})]}),s.jsx(Ot,{label:" (%)",type:"number",value:w.toString(),onChange:p=>G(parseInt(p)||93),suffix:"%",helpText:": 93% = 7%",min:"50",max:"100"}),s.jsxs(ie,{gap:"300",children:[s.jsxs(N,{gap:"300",children:[s.jsx(Ee,{onClick:()=>I(!0),disabled:O.length===0,size:"large",children:""}),s.jsx(Ee,{onClick:()=>I(!1),disabled:g.length===0,size:"large",children:""}),s.jsx(Ee,{onClick:$,disabled:o.state==="submitting"||g.length===0||g.some(p=>!b[p.id]),variant:"primary",size:"large",children:""})]}),g.length>0&&s.jsx(oe,{children:s.jsxs(ie,{gap:"200",children:[s.jsxs(N,{gap:"300",blockAlign:"center",children:[s.jsxs(V,{variant:"bodyMd",as:"span",children:["(",g.filter(p=>!n.includes(p.id)).length,"):"]}),s.jsx(Ee,{onClick:()=>W("gold"),disabled:g.filter(p=>!n.includes(p.id)).length===0,tone:"warning",children:" "}),s.jsx(Ee,{onClick:()=>W("platinum"),disabled:g.filter(p=>!n.includes(p.id)).length===0,tone:"info",children:" "})]}),g.filter(p=>n.includes(p.id)).length>0&&s.jsxs(V,{variant:"bodySm",tone:"subdued",children:["",g.filter(p=>n.includes(p.id)).length,""]})]})})]}),g.length>0&&s.jsx(oe,{children:s.jsxs(ie,{gap:"300",children:[s.jsxs(N,{align:"space-between",children:[s.jsxs("h4",{children:[" (",g.length,")"]}),s.jsxs(N,{gap:"200",children:[s.jsxs(ee,{tone:"warning",children:[" : ",g.filter(p=>b[p.id]==="gold").length,""]}),s.jsxs(ee,{tone:"info",children:[" : ",g.filter(p=>b[p.id]==="platinum").length,""]}),s.jsxs(ee,{tone:"critical",children:[" : ",g.filter(p=>!b[p.id]).length,""]})]})]}),s.jsx(ie,{gap:"200",children:g.map(p=>{const S=b[p.id];return s.jsxs(N,{gap:"200",blockAlign:"center",children:[s.jsx("span",{style:{fontSize:"14px"},children:S==="gold"?"":S==="platinum"?"":""}),s.jsx(V,{variant:"bodySm",children:p.title}),S?s.jsx(ee,{tone:S==="gold"?"warning":"info",size:"small",children:S==="gold"?"":""}):s.jsx(ee,{tone:"critical",size:"small",children:""})]},p.id)})}),g.filter(p=>!b[p.id]).length>0&&s.jsxs(ue,{tone:"warning",children:[s.jsx("strong",{children:""}),"  "]})]})}),n&&n.length>0&&s.jsxs(ue,{tone:"success",children:[" ",s.jsxs("strong",{children:[n.length,""]})," "]}),((Y=o.data)==null?void 0:Y.message)&&s.jsx(ue,{tone:"success",children:o.data.message})]})})}),s.jsx(ce.Section,{children:s.jsx(oe,{children:s.jsx("div",{style:{width:"100%",overflowX:"auto"},children:s.jsx("div",{style:{minWidth:"1280px"},children:s.jsx(fe,{resourceName:{singular:"",plural:""},itemCount:O.length,selectedItemsCount:g.length>0?"All":0,onSelectionChange:p=>{p==="all"?I(!0):p==="none"&&I(!1)},headings:[{title:""},{title:""},{title:""},{title:""},{title:""},{title:""}],selectable:!1,children:O.map((p,S)=>{var se;const T=g.some(le=>le.id===p.id),x=p.variants.edges,v=x.length>1?`${Math.min(...x.map(le=>parseFloat(le.node.price)))} - ${Math.max(...x.map(le=>parseFloat(le.node.price)))}`:`${((se=x[0])==null?void 0:se.node.price)||0}`,A=b[p.id],F=n.includes(p.id);return s.jsxs(fe.Row,{id:p.id,children:[s.jsx(fe.Cell,{children:s.jsx(Qe,{checked:T,onChange:le=>ne(p.id,le)})}),s.jsx(fe.Cell,{children:s.jsx(ge,{minWidth:"300px",maxWidth:"400px",children:s.jsxs(N,{gap:"200",blockAlign:"center",children:[T&&A&&s.jsx("span",{style:{fontSize:"16px"},children:A==="gold"?"":""}),s.jsx(V,{as:"span",truncate:!0,children:p.title}),T&&A&&s.jsx(ee,{tone:A==="gold"?"warning":"info",size:"small",children:A==="gold"?"":"Pt"}),T&&!A&&!F&&s.jsx(ee,{tone:"critical",size:"small",children:""}),F&&s.jsx(ee,{tone:"success",size:"small",children:""})]})})}),s.jsx(fe.Cell,{children:s.jsx(ee,{status:p.status==="ACTIVE"?"success":"critical",children:p.status})}),s.jsx(fe.Cell,{children:s.jsx(V,{variant:"bodySm",children:v})}),s.jsx(fe.Cell,{children:s.jsx(V,{variant:"bodySm",children:x.length})}),s.jsx(fe.Cell,{children:s.jsx(ge,{minWidth:"240px",width:"100%",children:T?s.jsxs("div",{children:[s.jsx($t,{label:"",labelHidden:!0,options:[{label:"...",value:"",disabled:!0},{label:" ",value:"gold"},{label:" ",value:"platinum"}],value:A||"",onChange:le=>Z(p.id,le),placeholder:"",disabled:F}),!A&&!F&&s.jsx("div",{style:{marginTop:"4px"},children:s.jsx(V,{variant:"bodySm",tone:"critical",children:""})}),F&&s.jsx("div",{style:{marginTop:"4px"},children:s.jsx(V,{variant:"bodySm",tone:"subdued",children:""})})]}):s.jsx(V,{variant:"bodySm",tone:"subdued",children:"-"})})})]},p.id)})})})})})}),s.jsx(Et,{open:te,onClose:()=>D(!1),title:"",primaryAction:{content:"",onAction:Ie,loading:o.state==="submitting"},secondaryActions:[{content:"",onAction:()=>D(!1)}],large:!0,children:s.jsx(Et.Section,{children:s.jsx(ie,{gap:"400",children:B.map(p=>s.jsx(oe,{children:s.jsxs(ie,{gap:"300",children:[s.jsxs(N,{align:"space-between",children:[s.jsx("h4",{children:p.title}),s.jsx(ee,{tone:p.metalType==="gold"?"warning":"info",children:p.metalType==="gold"?"":""})]}),p.error?s.jsx(ue,{tone:"critical",children:p.error}):p.variants.map(S=>s.jsxs(N,{align:"space-between",children:[s.jsx("span",{children:S.title||""}),s.jsxs(N,{gap:"200",children:[s.jsxs("span",{children:["",S.currentPrice,"  ",S.newPrice]}),S.changed&&s.jsxs(ee,{tone:S.priceChange>0?"warning":"success",children:[S.priceChange>0?"+":"",S.priceChange,""]})]})]},S.id))]})},p.id))})})}),((R=o.data)==null?void 0:R.updateResults)&&s.jsx(ce.Section,{children:s.jsx(oe,{children:s.jsxs(ie,{gap:"400",children:[s.jsx("h3",{children:""}),o.data.summary&&s.jsx(oe,{children:s.jsxs(N,{gap:"400",children:[s.jsxs("div",{children:[": ",s.jsx("strong",{children:o.data.summary.total}),""]}),s.jsxs("div",{children:[": ",s.jsx("strong",{children:o.data.summary.success}),""]}),s.jsxs("div",{children:[": ",s.jsx("strong",{children:o.data.summary.failed}),""]})]})}),o.data.error&&s.jsx(ue,{tone:"critical",children:o.data.error}),o.data.message&&s.jsx(ue,{tone:"info",children:o.data.message}),o.data.updateResults.map((p,S)=>{var T,x;return s.jsx(ue,{tone:p.success?"success":"critical",children:p.success?`${p.product} - ${p.variant}: ${(T=p.oldPrice)==null?void 0:T.toLocaleString()}  ${(x=p.newPrice)==null?void 0:x.toLocaleString()}`:`${p.product} - ${p.variant}: ${p.error}`},S)})]})})})]})})}function Jr(){const e=na(),{goldPrice:t,platinumPrice:i,selectedProductIds:n,savedSelectedProducts:a,shopSetting:l,forceRefresh:d,cacheTimestamp:c}=e;return s.jsx(u.Suspense,{fallback:s.jsx(sn,{title:"",subtitle:"...",secondaryActions:[{content:"",icon:Je,onAction:()=>{Ae.clear(Me.PRODUCTS),window.location.search="?refresh=true"}}],children:s.jsxs(ce,{children:[s.jsx(ce.Section,{children:t&&s.jsx(oe,{children:s.jsxs(ie,{gap:"400",children:[s.jsxs(N,{align:"space-between",children:[s.jsx("h3",{children:" "}),s.jsx(ee,{tone:t.changeDirection==="up"?"attention":t.changeDirection==="down"?"success":"info",children:t.changeDirection==="up"?"":t.changeDirection==="down"?"":""})]}),s.jsxs(N,{gap:"600",children:[s.jsxs("div",{children:[s.jsx("p",{children:""}),s.jsx("h4",{children:t.retailPriceFormatted})]}),s.jsxs("div",{children:[s.jsx("p",{children:""}),s.jsx("h4",{children:t.change})]})]}),s.jsx("div",{children:s.jsxs("p",{children:[s.jsxs("strong",{children:[": ",t.percentage,"%"]}),""]})}),s.jsxs("p",{children:[": ",new Date(t.lastUpdated).toLocaleString("ja-JP")]})]})})}),s.jsx(ce.Section,{children:s.jsx(oe,{children:s.jsx(ie,{gap:"400",children:s.jsxs("div",{style:{textAlign:"center",padding:"60px 20px"},children:[s.jsx(vt,{size:"large"}),s.jsx("p",{style:{marginTop:"20px"},children:"..."}),s.jsx(V,{variant:"bodySm",tone:"subdued",children:""})]})})})})]})}),children:s.jsx(aa,{resolve:e.products,children:o=>s.jsx(Rr,{products:o,goldPrice:t,platinumPrice:i,selectedProductIds:n,savedSelectedProducts:a,shopSetting:l,forceRefresh:d,cacheTimestamp:c})})})}export{Jr as default};

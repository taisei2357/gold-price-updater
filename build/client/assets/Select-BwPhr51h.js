import{R as s,r}from"./index-Dfrec1kz.js";import{u as z,S as U,g as q}from"./context-JUMp7zSJ.js";import{M as $,u as F,f as V,v as J,b as K,S as Q,L as X,e as Y,T as G,h as ee}from"./Page-B7aPegn-.js";var te=function(t){return s.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),s.createElement("path",{fillRule:"evenodd",d:"M9.116 4.323a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),s.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 15.677a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};te.displayName="SortAscendingIcon";var ne=function(t){return s.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),s.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 4.823a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),s.createElement("path",{fillRule:"evenodd",d:"M9.116 15.177a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};ne.displayName="SortDescendingIcon";function he({children:e,onMount:t,fallback:n=null}){const i=z(),a=i?e:n;return r.useEffect(()=>{i&&t&&t()},[i,t]),s.createElement(s.Fragment,null,a)}function ie(){const e=r.useContext(U);if(!e)throw new $("No StickyManager was provided.");return e}class se extends r.Component{constructor(...t){super(...t),this.state={isSticky:!1,style:{}},this.placeHolderNode=null,this.stickyNode=null,this.setPlaceHolderNode=n=>{this.placeHolderNode=n},this.setStickyNode=n=>{this.stickyNode=n},this.handlePositioning=(n,i=0,a=0,l=0)=>{const{isSticky:c}=this.state;(n&&!c||!n&&c)&&(this.adjustPlaceHolderNode(n),this.setState({isSticky:!c},()=>{if(this.props.onStickyChange==null||(this.props.onStickyChange(!c),this.props.boundingElement==null))return null;this.props.boundingElement.toggleAttribute("data-sticky-active")}));const p=n?{position:"fixed",top:i,left:a,width:l}:{};this.setState({style:p})},this.adjustPlaceHolderNode=n=>{this.placeHolderNode&&this.stickyNode&&(this.placeHolderNode.style.paddingBottom=n?`${q(this.stickyNode).height}px`:"0px")}}componentDidMount(){const{boundingElement:t,offset:n=!1,disableWhenStacked:i=!1,stickyManager:a}=this.props;!this.stickyNode||!this.placeHolderNode||a.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:n,boundingElement:t,disableWhenStacked:i})}componentDidUpdate(){const{boundingElement:t,offset:n=!1,disableWhenStacked:i=!1,stickyManager:a}=this.props;if(!this.stickyNode||!this.placeHolderNode)return;const l=a.getStickyItem(this.stickyNode);(!l||t!==l.boundingElement||n!==l.offset||i!==l.disableWhenStacked)&&(a.unregisterStickyItem(this.stickyNode),a.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:n,boundingElement:t,disableWhenStacked:i}))}componentWillUnmount(){const{stickyManager:t}=this.props;this.stickyNode&&t.unregisterStickyItem(this.stickyNode)}render(){const{style:t,isSticky:n}=this.state,{children:i}=this.props,a=ae(i)?i(n):i;return s.createElement("div",null,s.createElement("div",{ref:this.setPlaceHolderNode}),s.createElement("div",{ref:this.setStickyNode,style:t},a))}}function ae(e){return typeof e=="function"}function ge(e){const t=ie();return s.createElement(se,Object.assign({},e,{stickyManager:t}))}var o={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const P="";function me({options:e,label:t,labelAction:n,labelHidden:i,labelInline:a,disabled:l,helpText:c,placeholder:p,id:O,name:_,value:v=P,error:f,onChange:E,onFocus:h,onBlur:g,requiredIndicator:I,tone:m}){const{value:C,toggle:S}=F(!1),A=r.useId(),d=O??A,j=a?!0:i,L=V(o.Select,f&&o.error,m&&o[J("tone",m)],l&&o.disabled),R=r.useCallback(u=>{S(),h==null||h(u)},[h,S]),D=r.useCallback(u=>{S(),g==null||g(u)},[g,S]),B=E?u=>E(u.currentTarget.value,d):void 0,y=[];c&&y.push(ee(d)),f&&y.push(`${d}Error`);let k=(e||[]).map(le);p&&(k=[{label:p,value:P,disabled:!0},...k]);const w=a&&s.createElement(Y,{paddingInlineEnd:"100"},s.createElement(G,{as:"span",variant:"bodyMd",tone:m&&m==="magic"&&!C?"magic-subdued":"subdued",truncate:!0},t)),N=oe(k,v),T=N.prefix&&s.createElement("div",{className:o.Prefix},N.prefix),W=s.createElement("div",{className:o.Content,"aria-hidden":!0,"aria-disabled":l},w,T,s.createElement("span",{className:o.SelectedOption},N.label),s.createElement("span",{className:o.Icon},s.createElement(K,{source:Q}))),Z=k.map(re);return s.createElement(X,{id:d,label:t,error:f,action:n,labelHidden:j,helpText:c,requiredIndicator:I,disabled:l},s.createElement("div",{className:L},s.createElement("select",{id:d,name:_,value:v,className:o.Input,disabled:l,onFocus:R,onBlur:D,onChange:B,"aria-invalid":!!f,"aria-describedby":y.length?y.join(" "):void 0,"aria-required":I},Z),W,s.createElement("div",{className:o.Backdrop})))}function M(e){return typeof e=="string"}function b(e){return typeof e=="object"&&"options"in e&&e.options!=null}function x(e){return{label:e,value:e}}function le(e){if(M(e))return x(e);if(b(e)){const{title:t,options:n}=e;return{title:t,options:n.map(i=>M(i)?x(i):i)}}return e}function oe(e,t){const n=ce(e);let i=n.find(a=>t===a.value);return i===void 0&&(i=n.find(a=>!a.hidden)),i||{value:"",label:""}}function ce(e){let t=[];return e.forEach(n=>{b(n)?t=t.concat(n.options):t.push(n)}),t}function H(e){const{value:t,label:n,prefix:i,key:a,...l}=e;return s.createElement("option",Object.assign({key:a??t,value:t},l),n)}function re(e){if(b(e)){const{title:t,options:n}=e;return s.createElement("optgroup",{label:t,key:t},n.map(H))}return H(e)}export{he as A,ne as S,te as a,ge as b,me as c};
